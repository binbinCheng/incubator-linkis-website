"use strict";(self.webpackChunklinkis_web_apache=self.webpackChunklinkis_web_apache||[]).push([[45857],{3905:(e,r,t)=>{t.d(r,{Zo:()=>l,kt:()=>p});var n=t(67294);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){i(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var u=n.createContext({}),c=function(e){var r=n.useContext(u),t=r;return e&&(t="function"==typeof e?e(r):a(a({},r),e)),t},l=function(e){var r=c(e.components);return n.createElement(u.Provider,{value:r},e.children)},m={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},d=n.forwardRef((function(e,r){var t=e.components,i=e.mdxType,o=e.originalType,u=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=c(t),p=i,g=d["".concat(u,".").concat(p)]||d[p]||m[p]||o;return t?n.createElement(g,a(a({ref:r},l),{},{components:t})):n.createElement(g,a({ref:r},l))}));function p(e,r){var t=arguments,i=r&&r.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=d;var s={};for(var u in r)hasOwnProperty.call(r,u)&&(s[u]=r[u]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<o;c++)a[c]=t[c];return n.createElement.apply(null,a)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},74794:(e,r,t)=>{t.r(r),t.d(r,{contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=t(87462),i=(t(67294),t(3905));const o={title:"Limit Parameter Adjustment",sidebar_position:5},a=void 0,s={unversionedId:"user-guide/control-panel/resource-limit",id:"user-guide/control-panel/resource-limit",isDocsHomePage:!1,title:"Limit Parameter Adjustment",description:"This article describes how to adjust parameters when resources such as memory and CPU are insufficient.",source:"@site/docs/user-guide/control-panel/resource-limit.md",sourceDirName:"user-guide/control-panel",slug:"/user-guide/control-panel/resource-limit",permalink:"/docs/1.3.1/user-guide/control-panel/resource-limit",editUrl:"https://github.com/apache/incubator-linkis-website/edit/dev/docs/user-guide/control-panel/resource-limit.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Limit Parameter Adjustment",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"ECM Management",permalink:"/docs/1.3.1/user-guide/control-panel/ecm-management"},next:{title:"Microservice Management",permalink:"/docs/1.3.1/user-guide/control-panel/microservice-management"}},u=[{value:"1. Insufficient queue resources",id:"1-insufficient-queue-resources",children:[]},{value:"2. The number of queue instances exceeds the limit",id:"2-the-number-of-queue-instances-exceeds-the-limit",children:[]},{value:"3. Global driver memory usage limit",id:"3-global-driver-memory-usage-limit",children:[]},{value:"4. Exceeded the upper limit of the CPU number of the global driver",id:"4-exceeded-the-upper-limit-of-the-cpu-number-of-the-global-driver",children:[]},{value:"5. Exceeded the upper limit of the engine&#39;s maximum concurrent number",id:"5-exceeded-the-upper-limit-of-the-engines-maximum-concurrent-number",children:[]}],c={toc:u};function l(e){let{components:r,...o}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,o,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This article describes how to adjust parameters when resources such as memory and CPU are insufficient."),(0,i.kt)("h2",{id:"1-insufficient-queue-resources"},"1. Insufficient queue resources"),(0,i.kt)("p",null,"An error is reported during task execution: error code 12001, the error message queue has insufficient CPU resources, you can adjust the number of Spark executors"),(0,i.kt)("p",null,"Click on the management console--parameter configuration--IDE--Spark--display advanced settings--woker engine resource settings (2)--adjust the concurrent number of executors\n",(0,i.kt)("img",{src:t(24183).Z})),(0,i.kt)("p",null,"Or set the global setting to adjust the upper limit of queue resource usage."),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(8026).Z})),(0,i.kt)("h2",{id:"2-the-number-of-queue-instances-exceeds-the-limit"},"2. The number of queue instances exceeds the limit"),(0,i.kt)("p",null,"An error is reported during task execution: error code 12003, the number of error message queue instances exceeds the limit"),(0,i.kt)("p",null,"Click Management Console--Parameter Configuration--Global Settings--Queue Resources--Maximum Number of Yarn Queue Instances ","[wds.linkis.rm.yarnqueue.instance.max]"),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(65741).Z})),(0,i.kt)("h2",{id:"3-global-driver-memory-usage-limit"},"3. Global driver memory usage limit"),(0,i.kt)("p",null,"An error is reported during task execution: error code 12004, error message upper limit of global driver memory usage, lower driver memory can be set"),(0,i.kt)("p",null,"Click Management Console--Parameter Configuration--Global Settings--Queue Resources--Maximum Number of Yarn Queue Memory \u961f\u5217\u5185\u5b58\u4f7f\u7528\u4e0a\u9650","[wds.linkis.rm.yarnqueue.memory.max]"),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(75617).Z})),(0,i.kt)("h2",{id:"4-exceeded-the-upper-limit-of-the-cpu-number-of-the-global-driver"},"4. Exceeded the upper limit of the CPU number of the global driver"),(0,i.kt)("p",null,"An error is reported during task execution: error code 12005, the error message exceeds the upper limit of the number of CPUs in the global drive, and idle engines can be cleaned up"),(0,i.kt)("p",null,"Click Management Console - Parameter Configuration - Global Settings - Queue Resources - Upper Limit of The Number of Engine Cores","[wds.linkis.rm.client.core.max]"),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(61110).Z})),(0,i.kt)("p",null,"Or solve it by cleaning idle engines."),(0,i.kt)("h2",{id:"5-exceeded-the-upper-limit-of-the-engines-maximum-concurrent-number"},"5. Exceeded the upper limit of the engine's maximum concurrent number"),(0,i.kt)("p",null,"An error is reported during task execution: error code 12006, the error message exceeds the maximum concurrency limit of the engine, and idle engines can be cleaned up"),(0,i.kt)("p",null,"Click Management Console--Parameter Configuration--Global Settings--Queue Resources--Maximum concurrent number of each engine globally ","[wds.linkis.rm.instance]"),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(2013).Z})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Spark engine"),"\n",(0,i.kt)("img",{src:t(48665).Z})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Hive engine")),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(90604).Z})),(0,i.kt)("p",null,"Other engine settings are similar to Spark and Hive engines."))}l.isMDXComponent=!0},75617:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/engine-memory-15ad0d7efae9a2c39b93b7092adcca0d.png"},2013:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/global-con-b0d05531d3e705bc0d071d07070ab2c7.png"},61110:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/global-core-1cbda4da6e4ea0a2206da055b517e61a.png"},8026:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/global-limit-007f57d50b8cec1fd766af5c5ff1e168.png"},90604:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/hive-con-048643d5814d7eb6e416bc710c47417f.png"},48665:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/spark-con-048643d5814d7eb6e416bc710c47417f.png"},24183:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/spark-resource-048643d5814d7eb6e416bc710c47417f.png"},65741:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/yarn-instance-048643d5814d7eb6e416bc710c47417f.png"}}]);