<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Linkis Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Linkis Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Apache Linkis" href="/opensearch.xml"><title data-react-helmet="true">How to register a new microservice | Apache Linkis</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://linkis.incubator.apache.org/docs/1.3.1/deployment/new-microservice"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to register a new microservice | Apache Linkis"><meta data-react-helmet="true" name="description" content="This article describes how to register a new microservice during local debugging and in the Linux environment to facilitate more lightweight learning, use and debugging."><meta data-react-helmet="true" property="og:description" content="This article describes how to register a new microservice during local debugging and in the Linux environment to facilitate more lightweight learning, use and debugging."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://linkis.incubator.apache.org/docs/1.3.1/deployment/new-microservice"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/docs/1.3.1/deployment/new-microservice" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/zh-CN/docs/1.3.1/deployment/new-microservice" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://linkis.incubator.apache.org/docs/1.3.1/deployment/new-microservice" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://AE29KQB3IA-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.43be7c54.css">
<link rel="preload" href="/assets/js/runtime~main.bb8a3b9d.js" as="script">
<link rel="preload" href="/assets/js/main.fbb964a3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Apache Linkis Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Apache Linkis Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Apache Linkis(Incubating)</b></a><a class="navbar__item navbar__link" href="/download/main">Download</a><a class="navbar__item navbar__link" href="/community/how-to-subscribe">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/team">Team</a><a class="navbar__item navbar__link" href="/user">Users</a><a class="navbar__item navbar__link" href="/faq/main">FAQ</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Doc</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/latest/introduction">1.3.0</a></li><li><a class="dropdown__link" href="/docs/1.2.0/introduction">1.2.0</a></li><li><a class="dropdown__link" href="/docs/1.1.3/introduction">1.1.3</a></li><li><a class="dropdown__link" href="/docs/1.1.2/introduction">1.1.2</a></li><li><a class="dropdown__link" href="/docs/1.1.1/introduction">1.1.1</a></li><li><a class="dropdown__link" href="/docs/1.1.0/introduction">1.1.0</a></li><li><a class="dropdown__link" href="/docs/1.0.3/introduction">1.0.3</a></li><li><a class="dropdown__link" href="/docs/1.0.2/introduction">1.0.2</a></li><li><a class="dropdown__link" href="/docs/0.11.0/introduction">0.11.0</a></li><li><a class="dropdown__link" href="/docs/1.3.1/introduction">Next(1.3.1)</a></li><li><a class="dropdown__link" href="/versions">All Version</a></li></ul></div><a href="https://github.com/apache/incubator-linkis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg t="1631348384596" class="iconLanguage_EbrZ" viewBox="0 0 1024 1024" version="1.1" p-id="557" width="20" height="20"><path d="M547.797333 638.208l-104.405333-103.168 1.237333-1.28a720.170667 720.170667 0 0 0 152.490667-268.373333h120.448V183.082667h-287.744V100.906667H347.605333v82.218666H59.818667V265.386667h459.178666a648.234667 648.234667 0 0 1-130.304 219.946666 643.242667 643.242667 0 0 1-94.976-137.728H211.541333a722.048 722.048 0 0 0 122.453334 187.434667l-209.194667 206.378667 58.368 58.368 205.525333-205.525334 127.872 127.829334 31.232-83.84m231.424-208.426667h-82.218666l-184.96 493.312h82.218666l46.037334-123.306667h195.242666l46.464 123.306667h82.218667l-185.002667-493.312m-107.690666 287.744l66.56-178.005333 66.602666 178.005333z" fill="currentColor" p-id="558"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/1.3.1/deployment/new-microservice" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/zh-CN/docs/1.3.1/deployment/new-microservice" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">简体中文</a></li></ul></div><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/1.3.1/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/1.3.1/release">Version Overview</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Deployment</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/deploy-quick">Quick Deployment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/deploy-cluster">Cluster Deployment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/deploy-console">Console Deployment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/deploy-without-hdfs">Deploy without HDFS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/deploy-to-kubernetes">Kubernetes Deployment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/directory-of-sourcecode">Source Code Directory</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/directory-of-unpack">Installation Package Directory</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/directory-of-deployed">After Installation Directory</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/install-engineconn">Installation EngineConn Plugin</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/install-scriptis">Installation Scriptis Tool</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/involve-skywalking">Involve SkyWaling</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/involve-prometheus">Involve Prometheus</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.3.1/deployment/involve-knife4j">Involve Knife4j</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/1.3.1/deployment/new-microservice">How to register a new microservice</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Engine Usage</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Table Structure</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Upgrade Guide</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tuning And Troubleshooting</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Apache Linkis <b>Next(1.3.1)</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/latest/introduction">latest version</a></b> (1.3.0).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: Next(1.3.1)</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to register a new microservice</h1></header><p>This article describes how to register a new microservice during local debugging and in the Linux environment to facilitate more lightweight learning, use and debugging.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="1-register-a-new-microservice-locally"></a>1 Register a new microservice locally<a class="hash-link" href="#1-register-a-new-microservice-locally" title="Direct link to heading">#</a></h3><p>This section documents how to configure and register a new microservice belonging to linkis in IDEA</p><p>Mind mapping:</p><p><img src="https://user-images.githubusercontent.com/106590848/201465730-f957c767-539b-4cce-9ffc-907b791f169c.png" alt="image">
<strong>Hardware requirements</strong></p><ul><li>jdk1.8</li><li>maven3.5+</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="11-create-a-new-linkis-new-microservices-submodule"></a>1.1 Create a new linkis-new-microservices submodule<a class="hash-link" href="#11-create-a-new-linkis-new-microservices-submodule" title="Direct link to heading">#</a></h3><p><strong>Note</strong>: Under what module to create a new submodule, this is not fixed depending on the situation, here is just an example.</p><ul><li>Right mouse button under the linkis-public-enhancements module</li></ul><p><img src="https://user-images.githubusercontent.com/106590848/201453748-0b8ada31-7190-4817-a1a2-32ba20db3743.png" alt="image"></p><ul><li>Select maven and click Nex Next</li></ul><p><img src="https://user-images.githubusercontent.com/106590848/201453787-55983124-c6b9-4893-89dd-e7542a27ef5e.png" alt="image"></p><ul><li>Enter the module name and click Finsh</li></ul><p><img src="https://user-images.githubusercontent.com/106590848/201453852-8d8a9364-4b00-418f-aee8-98fbc39020dd.png" alt="image"></p><ul><li>created successfully</li></ul><p><img src="https://user-images.githubusercontent.com/106590848/201453947-b029d666-d1dc-49a3-a49f-df8c9260b5da.png" alt="image"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="111-modify-the-pomxml-file-of-the-linkis-new-microservice-module"></a>1.1.1 Modify the pom.xml file of the linkis-new-microservice module<a class="hash-link" href="#111-modify-the-pomxml-file-of-the-linkis-new-microservice-module" title="Direct link to heading">#</a></h4><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="here-is-the-pomxml-under-the-new-module"></a>Here is the pom.xml under the new module<a class="hash-link" href="#here-is-the-pomxml-under-the-new-module" title="Direct link to heading">#</a></h2><p><strong>path</strong>: linkis-public-enhancements/linkis-new-microservice/pom.xml</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">## 添加依赖</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;dependency&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;groupId&gt;org.apache.linkis&lt;/groupId&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;artifactId&gt;linkis-module&lt;/artifactId&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;version&gt;${project.version}&lt;/version&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;exclusions&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;exclusion&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          &lt;artifactId&gt;asm&lt;/artifactId&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &lt;/exclusion&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;/exclusions&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/dependency&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;dependency&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;groupId&gt;org.apache.linkis&lt;/groupId&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;artifactId&gt;linkis-mybatis&lt;/artifactId&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;version&gt;${project.version}&lt;/version&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/dependency&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="112-added-linkis-new-microserviceproperties-file"></a>1.1.2 Added linkis-new-microservice.properties file<a class="hash-link" href="#112-added-linkis-new-microserviceproperties-file" title="Direct link to heading">#</a></h4><p><strong>path</strong>: linkis-dist/package/conf/linkis-new-microservices.properties</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Licensed to the Apache Software Foundation (ASF) under one or more</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># contributor license agreements.  See the NOTICE file distributed with</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this work for additional information regarding copyright ownership.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The ASF licenses this file to You under the Apache License, Version 2.0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># (the &quot;License&quot;); you may not use this file except in compliance with</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the License.  You may obtain a copy of the License at</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># http://www.apache.org/licenses/LICENSE-2.0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Unless required by applicable law or agreed to in writing, software</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See the License for the specific language governing permissions and</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># limitations under the License.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##restful</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wds.linkis.server.restful.scan.packages=org.apache.linkis.newmicroservice.server.restful  ## 如不需提供接口Api则无需添加此配置</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##mybatis</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wds.linkis.server.mybatis.mapperLocations=classpath*:org/apache/linkis/newmicroservices/server/dao/mapper/*.xml </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wds.linkis.server.mybatis.typeAliasesPackage=org.apache.linkis.newmicroservices.server.domain</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wds.linkis.server.mybatis.BasePackage=org.apache.linkis.newmicroservices.server.dao</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##Spring</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">spring.server.port=9208 #Never use the same port as other services</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="113-modify-distributionxml"></a>1.1.3 Modify distribution.xml<a class="hash-link" href="#113-modify-distributionxml" title="Direct link to heading">#</a></h4><p><strong>path</strong>: linkis-dist/src/main/assembly/distribution.xml</p><p>Add fileSet configuration, changing the configuration is mainly to control the output linkis-new-microservice service package when compiling and packaging</p><p><img src="https://user-images.githubusercontent.com/106590848/201454790-2c8ceade-91fe-43af-b69f-ad47fdb4b6b5.png" alt="image"></p><p>Only the configuration content that needs to be added is posted here.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   &lt;fileSet&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;directory&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ../linkis-public-enhancements/linkis-new-microservice/target/out/lib</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/directory&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;outputDirectory&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                linkis-package/lib/linkis-public-enhancements/linkis-new-microservice</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/outputDirectory&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;includes&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                &lt;include&gt;**/*&lt;/include&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &lt;/includes&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   &lt;/fileSet&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="114-modify-linkisproperties-configuration"></a>1.1.4 Modify linkis.properties configuration<a class="hash-link" href="#114-modify-linkisproperties-configuration" title="Direct link to heading">#</a></h4><p><strong>path</strong>: linkis-dist/package/conf/linkis.properties</p><p><img src="https://user-images.githubusercontent.com/106590848/201456815-5d377a91-69ac-494e-9b76-f5d6393faf44.png" alt="image"></p><p>Only the configuration content that needs to be added is posted here.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wds.linkis.test.mode=true #Since the interface debugging needs to be carried out later, it needs to be changed to the test mode here</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="12-code-development"></a>1.2 Code Development<a class="hash-link" href="#12-code-development" title="Direct link to heading">#</a></h3><p>To make it easier for everyone to learn, let&#x27;s take creating a simple API interface as an example.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="121-new-newmicroservice-class"></a>1.2.1 New NewMicroservice class<a class="hash-link" href="#121-new-newmicroservice-class" title="Direct link to heading">#</a></h4><p><img src="https://user-images.githubusercontent.com/106590848/201456425-242e2146-05ba-485c-81e4-3f432051b765.png" alt="image"></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI Class"><pre tabindex="0" class="prism-code language-Class codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">package org.apache.linkis.newmicroservice.server.restful;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.swagger.annotations.ApiOperation;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.linkis.server.Message;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.web.bind.annotation.*;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.swagger.annotations.Api;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.HashMap;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.Map;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Api(tags = &quot;newMicroservices&quot;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@RestController</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@RequestMapping(path = &quot;/newMicroservices&quot;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public class NewMicroservice {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @ApiOperation(value = &quot;establish&quot;, httpMethod = &quot;GET&quot;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @RequestMapping(path = &quot;establish&quot;, method = RequestMethod.GET)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public Message list() {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Map&amp;lt;String,String&amp;gt; map=new HashMap&amp;lt;&amp;gt;();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        map.put(&quot;NewMicroservice&quot;,&quot;Hello! This is a new microservice I registered(这是我注册的一个新的微服务)&quot;);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return Message.ok(&quot;&quot;).data(&quot;map&quot;, map);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="122-create-a-new-linkisnewmicroserviceapplication-startup-class"></a>1.2.2 Create a new LinkisNewMicroserviceApplication startup class<a class="hash-link" href="#122-create-a-new-linkisnewmicroserviceapplication-startup-class" title="Direct link to heading">#</a></h4><p><img src="https://user-images.githubusercontent.com/106590848/201456437-25d5280d-44e0-47fb-961f-1243d656092f.png" alt="image"></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI Class"><pre tabindex="0" class="prism-code language-Class codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">package org.apache.linkis.newmicroservice.server;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.linkis.LinkisBaseServerApp;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.commons.logging.Log;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.apache.commons.logging.LogFactory;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public class LinkisNewMicroserviceApplication {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  private static final Log logger = LogFactory.getLog(LinkisNewMicroserviceApplication.class);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public static void main(String[] args) throws ReflectiveOperationException {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    logger.info(&quot;Start to running LinkisNewMicroservicesApplication&quot;);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    LinkisBaseServerApp.main(args);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="13-start-the-eureka-service"></a>1.3 Start the eureka service<a class="hash-link" href="#13-start-the-eureka-service" title="Direct link to heading">#</a></h3><p>The specific guidelines for this step have been written in the <a href="/docs/1.3.1/development/debug">Debugging Guide</a> document and can be accessed directly, so I will not introduce too much here.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="14-start-the-linkis-new-microservices-service"></a>1.4 Start the linkis-new-microservices service<a class="hash-link" href="#14-start-the-linkis-new-microservices-service" title="Direct link to heading">#</a></h3><p>Set the startup Application of linkis-new-microservices</p><p><img src="https://user-images.githubusercontent.com/106590848/201056682-660ecc73-e141-426c-8911-b52a744c975e.png" alt="image"></p><p>Parameter explanation:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Service Name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">linkis-new-microservices</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Module Name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">linkis-new-microservices</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">VM Opitons</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-DserviceName</span><span class="token operator">=</span><span class="token plain">linkis-new-microservices -Xbootclasspath/a:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">YourPathPrefix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/incubator-linkis/linkis-dist/package/conf </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">main Class</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">org.apache.linkis.newmicroservices.server.LinkisNewMicroservicesApplication</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Add provided scope to classpath</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">By checking Include dependencies with “Provided” scope, you can introduce provided-level dependency packages during debugging.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>After the above settings are completed, the Application can be run directly. After running successfully, open the browser and enter the url of the eureka registration center</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI url"><pre tabindex="0" class="prism-code language-url codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    http://ip:port/ </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img src="https://user-images.githubusercontent.com/106590848/201058281-c73f99b5-71cf-4cfe-aded-ec2f5f35f447.png" alt="image"></p><p>When the linkis-new-microservices service appears in the eureka registry, the new microservice is successfully registered locally.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="15-postman-for-interface-debugging"></a>1.5 Postman for interface debugging<a class="hash-link" href="#15-postman-for-interface-debugging" title="Direct link to heading">#</a></h3><p><strong>URL</strong>: http://ip:port/api/rest_j/v1/newMicroservices/establish</p><p><img src="https://user-images.githubusercontent.com/106590848/201456985-f857d824-d8e9-4b84-9db4-e50cc647288d.png" alt="image"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="2-register-new-microservices-in-linux-environment"></a>2. Register new microservices in linux environment<a class="hash-link" href="#2-register-new-microservices-in-linux-environment" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="21-linux-server"></a>2.1 Linux server<a class="hash-link" href="#21-linux-server" title="Direct link to heading">#</a></h3><p>hardware requirements
Install nearly 10 linkis microservices, at least 3G memory. **The default jvm -Xmx memory size of each microservice is 512M (if the memory is not enough, you can try to reduce it to 256/128M, and you can also increase it if the memory is enough)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="22-add-linkis-new-microservice-file"></a>2.2 Add linkis-new-microservice file<a class="hash-link" href="#22-add-linkis-new-microservice-file" title="Direct link to heading">#</a></h4><p><img src="https://user-images.githubusercontent.com/106590848/201459625-76b0de2d-8869-48fc-8899-1779fcc5a100.png" alt="image"></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#!/usr/bin/env bash</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Licensed to the Apache Software Foundation (ASF) under one or more</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># contributor license agreements.  See the NOTICE file distributed with</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this work for additional information regarding copyright ownership.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The ASF licenses this file to You under the Apache License, Version 2.0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># (the &quot;License&quot;); you may not use this file except in compliance with</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the License.  You may obtain a copy of the License at</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># http://www.apache.org/licenses/LICENSE-2.0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Unless required by applicable law or agreed to in writing, software</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># See the License for the specific language governing permissions and</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># limitations under the License.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># description:  manager start cmd</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Modified for Linkis 1.0.0</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export SERVER_SUFFIX=&quot;linkis-public-enhancements/linkis-new-microservice&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export SERVER_CLASS=org.apache.linkis.newmicroservice.server.LinkisNewMicroserviceApplication</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#export DEBUG_PORT=</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export COMMON_START_BIN=$LINKIS_HOME/sbin/ext/linkis-common-start</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [[ ! -f &quot;${COMMON_START_BIN}&quot; ]]; then</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    echo &quot;The $COMMON_START_BIN  does not exist!&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    exit 1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">else</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sh $COMMON_START_BIN</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="23-linkis-start-allsh-configuration-modification"></a>2.3 linkis-start-all.sh configuration modification<a class="hash-link" href="#23-linkis-start-allsh-configuration-modification" title="Direct link to heading">#</a></h4><p><strong>path</strong>: linkis-dist/package/sbin/linkis-start-all.sh</p><p><img src="https://user-images.githubusercontent.com/106590848/201459497-7c2e0752-5c85-4f79-a183-c7c3e83a2380.png" alt="image"></p><p>Only the configuration content that needs to be added is posted here.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ## startup script</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #linkis-new-microservice</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SERVER_NAME=&quot;new-microservice&quot; </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    startApp</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ## detection script</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #linkis-new-microservice</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SERVER_NAME=&quot;new-microservice&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    checkServer</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="24-linkis-stop-allsh-configuration-modification"></a>2.4 linkis-stop-all.sh configuration modification<a class="hash-link" href="#24-linkis-stop-allsh-configuration-modification" title="Direct link to heading">#</a></h4><p><strong>path</strong>:linkis-dist/package/sbin/linkis-stop-all.sh</p><p><img src="https://user-images.githubusercontent.com/106590848/201459539-cf0eafea-10f6-424f-b2d3-670faf1d46d5.png" alt="image"></p><p>Only the configuration content that needs to be added is posted here.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ## stop script</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    #linkis-new-microservice</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    export SERVER_NAME=&quot;new-microservice&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stopApp</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="25-installation-package-preparation"></a>2.5 Installation package preparation<a class="hash-link" href="#25-installation-package-preparation" title="Direct link to heading">#</a></h3><p>The specific guidelines for this step have been written in the <a href="/docs/1.3.1/development/build">backend compilation</a> document and can be accessed directly, so I won&#x27;t introduce too much here.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="26-upload-the-installation-package-to-the-server"></a>2.6 Upload the installation package to the server<a class="hash-link" href="#26-upload-the-installation-package-to-the-server" title="Direct link to heading">#</a></h3><p>Here is an example of single-machine deployment, and the specific instructions of this step have been written in the <a href="/docs/1.3.1/deployment/deploy-quick">Single-machine deployment</a> document and can be accessed directly, so I won’t introduce too much here.</p><p>When the installation and deployment are successful, you can directly access the eureka registration center in the browser to see whether the center has successfully registered the linkis-new-microservices service. If the registration is successful, the creation of a new microservice is successful.</p><p><img src="https://user-images.githubusercontent.com/106590848/201459777-c41f3631-c434-4318-b7ca-dc92e75e721b.png" alt="Microservices"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/incubator-linkis-website/edit/dev/docs/deployment/new-microservice.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/1.3.1/deployment/involve-knife4j"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Involve Knife4j</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/1.3.1/user-guide/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-register-a-new-microservice-locally" class="table-of-contents__link">1 Register a new microservice locally</a></li><li><a href="#11-create-a-new-linkis-new-microservices-submodule" class="table-of-contents__link">1.1 Create a new linkis-new-microservices submodule</a></li><li><a href="#here-is-the-pomxml-under-the-new-module" class="table-of-contents__link">Here is the pom.xml under the new module</a><ul><li><a href="#12-code-development" class="table-of-contents__link">1.2 Code Development</a></li><li><a href="#13-start-the-eureka-service" class="table-of-contents__link">1.3 Start the eureka service</a></li><li><a href="#14-start-the-linkis-new-microservices-service" class="table-of-contents__link">1.4 Start the linkis-new-microservices service</a></li><li><a href="#15-postman-for-interface-debugging" class="table-of-contents__link">1.5 Postman for interface debugging</a></li></ul></li><li><a href="#2-register-new-microservices-in-linux-environment" class="table-of-contents__link">2. Register new microservices in linux environment</a><ul><li><a href="#21-linux-server" class="table-of-contents__link">2.1 Linux server</a></li><li><a href="#25-installation-package-preparation" class="table-of-contents__link">2.5 Installation package preparation</a></li><li><a href="#26-upload-the-installation-package-to-the-server" class="table-of-contents__link">2.6 Upload the installation package to the server</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Linkis</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/latest/introduction">Document</a></li><li class="footer__item"><a class="footer__link-item" href="/faq/main">FAQ</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Releases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/incubator-linkis" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-linkis/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Subscribe Mailing List</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community/how-to-subscribe">How to Subscribe</a></li><li class="footer__item"><a href="mailto:dev-subscribe@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Subscribe Mail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://lists.apache.org/list.html?dev@linkis.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Mail Archive<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div><img style="height:50px" alt="Apache Software Foundation" src="/img/incubator-logo.svg"><p style="color: #999999;  padding: 0 20px 30px;font-weight:400;text-align:left">Apache Linkis is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p><p></p>
             <p style="padding: 0 20px 30px;color: #999999;font-weight: 400;"> Copyright © 2022 The Apache Software Foundation. Licensed under the Apache License, Version 2.0. Apache Linkis, Apache Incubator, Apache, the Apache feather logo, the Apache Linkis logo and the Apache Incubator project logo are trademarks of The Apache Software Foundation.</p>
             <div></div></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.bb8a3b9d.js"></script>
<script src="/assets/js/main.fbb964a3.js"></script>
</body>
</html>